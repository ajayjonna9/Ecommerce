{"version":3,"file":"static/js/204.e8dfea61.chunk.js","mappings":"wQAiHA,EAxGkB,WAChB,IAAMA,GAAWC,EAAAA,EAAAA,QAAO,IAClBC,GAAUC,EAAAA,EAAAA,MACVC,GAAYC,EAAAA,EAAAA,YAAWC,EAAAA,GAC7B,GAA8BC,EAAAA,EAAAA,WAAS,GAAM,eAAtCC,EAAO,KAAEC,EAAU,KACpBC,GAAQT,EAAAA,EAAAA,QAAO,IAIfU,GAAcC,EAAAA,EAAAA,cAClB,SAACC,GAGyB,aA8CvB,OA9CuB,0BAAxB,qGAoBK,OApBL,SAEUC,EAAM,CACVJ,MAAOA,EAAMK,QAAQC,MACrBhB,SAAUA,EAASe,QAAQC,MAC3BC,mBAAmB,GAEfC,EAAO,CACXC,QAAS,CACP,eAAgB,qBAIpBC,QAAQC,IAAIb,GAEVc,EADEd,EAEA,wGAGA,oHACH,SAEiBe,EAAAA,EAAAA,KAAWD,EAAKR,EAAKI,GAAM,KAAD,EAK5C,IALMM,EAAG,OACTJ,QAAQC,IAAIG,GAENC,EAAQ,eACVC,EAAU,GACLC,EAAI,EAAGA,EAAIH,EAAII,KAAKlB,MAAMmB,OAAQF,IACrCF,EAAMK,KAAKN,EAAII,KAAKlB,MAAMiB,MAC5BD,GAAoBF,EAAII,KAAKlB,MAAMiB,IAMvCvB,EAAU2B,MAAMP,EAAII,KAAKI,QAASN,GAClCtB,EAAU6B,iBAKV/B,EAAQ,UAAU,kDAElBkB,QAAQC,IAAI,EAAD,IACXa,MAAM,yBAAyB,2DAElC,sBAhDDrB,EAAEsB,iBACFf,QAAQC,IAAI,SAAS,WACG,wBA+CxBe,EACF,GACA,CAAChC,EAAU2B,MAAO/B,EAAUU,EAAOF,IAErC,OACE,gBAAK6B,UAAU,cAAa,UAC1B,iBAAKA,UAAU,4CAA2C,WACxD,gBAAIA,UAAU,OAAM,UACjB7B,GAAW,WACVA,GAAW,YAEf,UAAC8B,EAAA,EAAI,CAACC,SAAU5B,EAAa0B,UAAU,OAAM,WAC3C,SAACC,EAAA,QAAU,qBACX,SAACA,EAAA,UAAY,CACXE,KAAK,QACLC,YAAY,cACZC,IAAKhC,EACLiC,UAAQ,KAGV,SAACL,EAAA,QAAU,wBACX,SAACA,EAAA,UAAY,CACXE,KAAK,WACLC,YAAY,iBACZC,IAAK1C,EACL2C,UAAQ,KAGV,SAACC,EAAA,EAAM,CAACC,QAAQ,UAAUL,KAAK,SAAQ,SACpChC,EAAU,UAAY,WAEzB,mBACEgC,KAAK,SACLM,QAvFa,WACrBrC,GAAYD,EACd,EAsFU6B,UAAU,eAAc,SAEvB7B,EAAU,8BAAgC,4BAMvD,ECpGA,EARc,WACZ,OACE,0BACE,SAAC,EAAS,KAGhB,C","sources":["Components/LoginPage/LoginForm.js","Components/LoginPage/Login.js"],"sourcesContent":["import React, { useCallback, useContext, useRef, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Contex from \"../Store/Contex\";\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport \"../ContactUs/contactpage.css\";\r\n\r\nconst LoginForm = () => {\r\n  const password = useRef(\"\");\r\n  const history = useNavigate();\r\n  const contexVal = useContext(Contex);\r\n  const [newUser, setNewUser] = useState(false);\r\n  const email = useRef(\"\");\r\n  const onclickingUser = () => {\r\n    setNewUser(!newUser);\r\n  };\r\n  const onsubmiting = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      console.log(\"login\");\r\n      async function loginUser() {\r\n        try {\r\n          const obj = {\r\n            email: email.current.value,\r\n            password: password.current.value,\r\n            returnSecureToken: true,\r\n          };\r\n          const head = {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          };\r\n          let url;\r\n          console.log(newUser);\r\n          if (newUser) {\r\n            url =\r\n              \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDRGcqCL0fjSoS32fhe3NIJoFVpCm_DIjQ\";\r\n          } else {\r\n            url =\r\n              \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDRGcqCL0fjSoS32fhe3NIJoFVpCm_DIjQ\";\r\n          }\r\n\r\n          const res = await axios.post(url, obj, head);\r\n          console.log(res);\r\n\r\n          const RegEx = /^[a-z0-9]+$/i;\r\n          let newMail = \"\";\r\n          for (let i = 0; i < res.data.email.length; i++) {\r\n            if (RegEx.test(res.data.email[i])) {\r\n              newMail = newMail + res.data.email[i];\r\n            }\r\n          }\r\n          // const crudres = await axios.get(\r\n          //   `https://crudcrud.com/api/552d5090ce6d45a3b3489203b4b1fe2a/cart${newMail}`\r\n          // );\r\n          contexVal.login(res.data.idToken, newMail);\r\n          contexVal.setIsFirstTrue();\r\n          // contexVal.addcruditems(crudres.data);\r\n          // console.log(crudres);\r\n          // console.log(\"mail\", newMail);\r\n          // console.log(\"crud\", crudres.data);\r\n          history(\"/store\");\r\n        } catch (err) {\r\n          console.log(err);\r\n          alert(\"Authentication failed\");\r\n        }\r\n      }\r\n      loginUser();\r\n    },\r\n    [contexVal.login, password, email, newUser]\r\n  );\r\n  return (\r\n    <div className=\"contactpage\">\r\n      <div className=\"d-flex flex-column align-items-center p-5\">\r\n        <h4 className=\"mb-5\">\r\n          {newUser && \"Sign Up\"}\r\n          {!newUser && \"Login\"}\r\n        </h4>\r\n        <Form onSubmit={onsubmiting} className=\"form\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter Email\"\r\n            ref={email}\r\n            required\r\n          />\r\n\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Enter Password\"\r\n            ref={password}\r\n            required\r\n          />\r\n\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {newUser ? \"Sign Up\" : \"Login\"}\r\n          </Button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onclickingUser}\r\n            className=\"togglebutton\"\r\n          >\r\n            {newUser ? \"Already have account? Login\" : \"New User?Sign Up\"}\r\n          </button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React from \"react\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nconst Login = () => {\r\n  return (\r\n    <div>\r\n      <LoginForm />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["password","useRef","history","useNavigate","contexVal","useContext","Contex","useState","newUser","setNewUser","email","onsubmiting","useCallback","e","obj","current","value","returnSecureToken","head","headers","console","log","url","axios","res","RegEx","newMail","i","data","length","test","login","idToken","setIsFirstTrue","alert","preventDefault","loginUser","className","Form","onSubmit","type","placeholder","ref","required","Button","variant","onClick"],"sourceRoot":""}