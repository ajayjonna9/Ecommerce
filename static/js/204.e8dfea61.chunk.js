"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[204],{9204:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var o=n(2791),a=n(4165),s=n(5861),r=n(885),i=n(2388),c=n(5939),l=n(7689),u=n(6157),p=n(3027),d=(n(2915),n(184)),f=function(){var e=(0,o.useRef)(""),t=(0,l.s0)(),n=(0,o.useContext)(c.Z),f=(0,o.useState)(!1),h=(0,r.Z)(f,2),m=h[0],g=h[1],x=(0,o.useRef)(""),j=(0,o.useCallback)((function(o){function r(){return(r=(0,s.Z)((0,a.Z)().mark((function o(){var s,r,c,l,u,p,d;return(0,a.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,s={email:x.current.value,password:e.current.value,returnSecureToken:!0},r={headers:{"Content-Type":"application/json"}},console.log(m),c=m?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDRGcqCL0fjSoS32fhe3NIJoFVpCm_DIjQ":"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDRGcqCL0fjSoS32fhe3NIJoFVpCm_DIjQ",o.next=7,i.Z.post(c,s,r);case 7:for(l=o.sent,console.log(l),u=/^[a-z0-9]+$/i,p="",d=0;d<l.data.email.length;d++)u.test(l.data.email[d])&&(p+=l.data.email[d]);n.login(l.data.idToken,p),n.setIsFirstTrue(),t("/store"),o.next=21;break;case 17:o.prev=17,o.t0=o.catch(0),console.log(o.t0),alert("Authentication failed");case 21:case"end":return o.stop()}}),o,null,[[0,17]])})))).apply(this,arguments)}o.preventDefault(),console.log("login"),function(){r.apply(this,arguments)}()}),[n.login,e,x,m]);return(0,d.jsx)("div",{className:"contactpage",children:(0,d.jsxs)("div",{className:"d-flex flex-column align-items-center p-5",children:[(0,d.jsxs)("h4",{className:"mb-5",children:[m&&"Sign Up",!m&&"Login"]}),(0,d.jsxs)(p.Z,{onSubmit:j,className:"form",children:[(0,d.jsx)(p.Z.Label,{children:"Email"}),(0,d.jsx)(p.Z.Control,{type:"email",placeholder:"Enter Email",ref:x,required:!0}),(0,d.jsx)(p.Z.Label,{children:"Password"}),(0,d.jsx)(p.Z.Control,{type:"password",placeholder:"Enter Password",ref:e,required:!0}),(0,d.jsx)(u.Z,{variant:"primary",type:"submit",children:m?"Sign Up":"Login"}),(0,d.jsx)("button",{type:"button",onClick:function(){g(!m)},className:"togglebutton",children:m?"Already have account? Login":"New User?Sign Up"})]})]})})},h=function(){return(0,d.jsx)("div",{children:(0,d.jsx)(f,{})})}},2915:function(){}}]);
//# sourceMappingURL=204.e8dfea61.chunk.js.map